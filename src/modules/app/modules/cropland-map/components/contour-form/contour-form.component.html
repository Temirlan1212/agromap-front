<form class="content" [formGroup]="form">
  <div class="field-group" *ngIf="!loading">
    <app-form-field name="region" #region>
      <app-input-select
        [items]="regionList"
        [placeholder]="'Region' | translate"
        [nameField]="'name_' + currentLang"
        formControlName="region"
        [required]="region.required"
      >
      </app-input-select>

      <span
        class="field-error"
        *ngIf="form.get('region')?.getError('error') != null"
        [textContent]="form.get('region')?.getError('error') | translate"
      ></span>
    </app-form-field>

    <app-form-field name="district" #district>
      <app-input-select
        [items]="districtList"
        [placeholder]="'District' | translate"
        formControlName="district"
        [nameField]="'name_' + currentLang"
        [required]="district.required"
      >
      </app-input-select>

      <span
        class="field-error"
        *ngIf="form.get('district')?.getError('error') != null"
        [textContent]="form.get('district')?.getError('error') | translate"
      ></span>
    </app-form-field>

    <app-form-field name="conton" #conton>
      <app-input-select
        [placeholder]="'Conton' | translate"
        [items]="contonList"
        [nameField]="'name_' + currentLang"
        formControlName="conton"
        [required]="district.required"
      >
      </app-input-select>

      <span
        class="field-error"
        *ngIf="form.get('conton')?.getError('error') != null"
        [textContent]="form.get('conton')?.getError('error') | translate"
      ></span>
    </app-form-field>

    <app-form-field name="type" #type>
      <app-input-select
        [items]="landTypeList"
        formControlName="type"
        [nameField]="'name_' + currentLang"
        [placeholder]="'Land type' | translate"
        [required]="type.required"
      >
      </app-input-select>
    </app-form-field>

    <app-form-field name="culture" #culture>
      <app-input-select
        [items]="cultureList"
        formControlName="culture"
        [nameField]="'name_' + currentLang"
        [placeholder]="'Culture' | translate"
        [required]="culture.required"
      >
      </app-input-select>
    </app-form-field>

    <app-form-field name="productivity" #productivity>
      <app-input
        type="number"
        [placeholder]="'Productivity' | translate"
        formControlName="productivity"
        [required]="productivity.required"
      >
      </app-input>
    </app-form-field>

    <app-form-field name="year" #year>
      <app-input
        type="number"
        [min]="2010"
        [max]="2023"
        [placeholder]="'Select a year' | translate"
        formControlName="year"
        [required]="year.required"
      >
      </app-input>

      <span
        class="field-error"
        *ngIf="form.get('year')?.getError('error') != null"
        [textContent]="form.get('year')?.getError('error') | translate"
      ></span>
    </app-form-field>

    <app-form-field
      name="code_soato"
      #code_soato
      *ngIf="mode != 'contours_main_ai'"
    >
      <app-input
        type="text"
        [placeholder]="'Code SOATO' | translate"
        formControlName="code_soato"
        [required]="code_soato.required"
      >
      </app-input>

      <span
        class="field-error"
        *ngIf="form.get('code_soato')?.getError('error') != null"
        [textContent]="form.get('code_soato')?.getError('error') | translate"
      ></span>
    </app-form-field>

    <app-form-field name="ink" #ink *ngIf="mode != 'contours_main_ai'">
      <app-input
        type="text"
        [placeholder]="'INK' | translate"
        formControlName="ink"
        [required]="ink.required"
      >
      </app-input>

      <span
        class="field-error"
        *ngIf="form.get('ink')?.getError('error') != null"
        [textContent]="form.get('ink')?.getError('error') | translate"
      ></span>
    </app-form-field>

    <div class="actions">
      <ng-content select="[actions]"></ng-content>
    </div>
  </div>

  <app-loading [loading]="loading" class="dynamic-color"></app-loading>
</form>
